{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/shambhavi/Desktop/Amazone-Clone-Updated-codes-main/src/Login_brad.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport { userAction_details } from './Reducers/actions/userActions';\nimport './Login.css';\n\nfunction Login_brad() {\n  _s();\n\n  let history = useHistory();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [boolpg, setboolpg] = useState(0); //success or fail\n\n  const dispatch = useDispatch();\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    loading,\n    userInfo,\n    error\n  } = userLogin;\n  const redirect = `/`; // console.log(\"USERINFO:-\",typeof(userInfo)=='undefined',userInfo,userLogin);\n  // if(!(typeof(userInfo)=='undefined') && userInfo!=='Invalid details')\n  // console.log(\"info len:-\",Object.keys(userInfo).length);\n  // else\n  // console.log(\"info lenyo:-\",userInfo);\n\n  useEffect(() => {\n    //when getting request, userinfo becomes true as  userLoginRequest is called.\n    //length==0 becomes when 1st time login pg is visited\n    //invalid details is received when details don't match\n    //if user is logged in  direct to home page..not working when aftr login  i type login_brad url, everything gets refreshed\n    if (!(typeof userInfo == 'undefined') && userInfo.length != 0 && userInfo !== 'Invalid details') {\n      console.log(\"Login useeffect, redirect\");\n      history.push(redirect);\n    }\n  }, [history, userInfo, redirect]);\n\n  const onEmail = e => {\n    setEmail(e.target.value);\n  };\n\n  const onPassword = e => {\n    setPassword(e.target.value);\n  };\n\n  const submit_form = e => {\n    e.preventDefault();\n    dispatch(userAction_details(email, password)); // console.log(email,password);\n    // const login_data=\n    // {\n    //     \"email\":email,\n    //     \"password\":password\n    // }\n    // axios.post(`http://localhost:4000/login_brad/add`,login_data)\n    //  .then((res) => \n    //   {\n    //     // setresult(res.data)\n    //     console.log(\"Dtat is:\",res.data);\n    //     // if(res.data==\"Success\")\n    //     // {\n    //     //   setboolpg(1)\n    //     // //   console.log(\"Jeet gaya\",boolpg);\n    //     // }\n    //   })\n\n    setEmail('');\n    setPassword('');\n  }; // if(boolpg==0)\n  // {\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"logo\",\n        src: \"https://www.logodesign.net/logo/peace-bird-in-water-drop-3572ld.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login_details\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"heading\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 21\n      }, this), (userInfo == \"Invalid details\" || error) && /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 63\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Loading\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"brad-Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: email,\n        onChange: onEmail,\n        placeholder: \"Enter Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        value: password,\n        onChange: onPassword,\n        placeholder: \"Enter Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"login_button\",\n        onClick: submit_form,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 26\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 13\n  }, this); // }\n  // else\n  // {\n  //     return (\n  //         <div>\n  //              <Redirect to=\"/\" /> \n  //         </ div>\n  //      )\n  // }\n}\n\n_s(Login_brad, \"UEPbps9gqc/vOLi3aaNYHF7Fkes=\", false, function () {\n  return [useHistory, useDispatch, useSelector];\n});\n\n_c = Login_brad;\nexport default Login_brad;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login_brad\");","map":{"version":3,"sources":["/Users/shambhavi/Desktop/Amazone-Clone-Updated-codes-main/src/Login_brad.js"],"names":["React","useState","useEffect","Link","axios","Redirect","useDispatch","useSelector","useHistory","userAction_details","Login_brad","history","email","setEmail","password","setPassword","boolpg","setboolpg","dispatch","userLogin","state","loading","userInfo","error","redirect","length","console","log","push","onEmail","e","target","value","onPassword","submit_form","preventDefault"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAUC,QAAV,QAA0B,kBAA1B;AACA,SAASC,WAAT,EAAqBC,WAArB,QAAwC,aAAxC;AAEA,SAAUC,UAAV,QAA4B,cAA5B;AACA,SAASC,kBAAT,QAAmC,gCAAnC;AAGA,OAAO,aAAP;;AAEA,SAASC,UAAT,GAAsB;AAAA;;AAClB,MAAIC,OAAO,GAAGH,UAAU,EAAxB;AAEA,QAAM,CAACI,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACa,QAAD,EAAWC,WAAX,IAA0Bd,QAAQ,CAAC,EAAD,CAAxC;AAEA,QAAM,CAACe,MAAD,EAASC,SAAT,IAAsBhB,QAAQ,CAAC,CAAD,CAApC,CANkB,CAMuB;;AAGzC,QAAMiB,QAAQ,GAAGZ,WAAW,EAA5B;AACA,QAAMa,SAAS,GAAGZ,WAAW,CAACa,KAAK,IAAIA,KAAK,CAACD,SAAhB,CAA7B;AACA,QAAM;AAACE,IAAAA,OAAD;AAASC,IAAAA,QAAT;AAAkBC,IAAAA;AAAlB,MAA0BJ,SAAhC;AAEA,QAAMK,QAAQ,GAAE,GAAhB,CAbkB,CAclB;AACA;AACA;AACA;AACA;;AAEAtB,EAAAA,SAAS,CAAC,MAAM;AACZ;AACA;AACA;AAEA;AACA,QAAI,EAAE,OAAOoB,QAAP,IAAkB,WAApB,KAAoCA,QAAQ,CAACG,MAAT,IAAiB,CAArD,IAA0DH,QAAQ,KAAG,iBAAzE,EACA;AACII,MAAAA,OAAO,CAACC,GAAR,CAAY,2BAAZ;AACAhB,MAAAA,OAAO,CAACiB,IAAR,CAAaJ,QAAb;AACH;AACJ,GAXQ,EAWN,CAACb,OAAD,EAASW,QAAT,EAAkBE,QAAlB,CAXM,CAAT;;AAcA,QAAMK,OAAO,GAAEC,CAAD,IACd;AACIjB,IAAAA,QAAQ,CAACiB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR;AACH,GAHD;;AAIA,QAAMC,UAAU,GAAEH,CAAD,IACjB;AACIf,IAAAA,WAAW,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX;AACH,GAHD;;AAKA,QAAME,WAAW,GAAEJ,CAAD,IAClB;AACIA,IAAAA,CAAC,CAACK,cAAF;AAEAjB,IAAAA,QAAQ,CAACT,kBAAkB,CAACG,KAAD,EAAOE,QAAP,CAAnB,CAAR,CAHJ,CAKI;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;;AAECD,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACAE,IAAAA,WAAW,CAAC,EAAD,CAAX;AACJ,GA/BD,CA3CkB,CA4ElB;AACA;;;AACI,sBACI;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA,4BACI,QAAC,IAAD;AAAM,MAAA,EAAE,EAAC,GAAT;AAAA,6BAEI;AAAK,QAAA,SAAS,EAAC,MAAf;AAAsB,QAAA,GAAG,EAAC;AAA1B;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,YADJ,eAOI;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA,8BAEI;AAAI,QAAA,SAAS,EAAC,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,EAII,CAACO,QAAQ,IAAE,iBAAV,IAA+BC,KAAhC,kBAA0C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJ9C,EAKCF,OAAO,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALZ,eAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAPJ,eAQI;AAAO,QAAA,KAAK,EAAET,KAAd;AAAqB,QAAA,QAAQ,EAAEiB,OAA/B;AAAwC,QAAA,WAAW,EAAC;AAApD;AAAA;AAAA;AAAA;AAAA,cARJ,eAUI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAVJ,eAWI;AAAO,QAAA,IAAI,EAAC,UAAZ;AAAuB,QAAA,KAAK,EAAEf,QAA9B;AAAwC,QAAA,QAAQ,EAAEmB,UAAlD;AAA8D,QAAA,WAAW,EAAC;AAA1E;AAAA;AAAA;AAAA;AAAA,cAXJ,eAcS;AAAQ,QAAA,SAAS,EAAC,cAAlB;AAAiC,QAAA,OAAO,EAAEC,WAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAdT;AAAA;AAAA;AAAA;AAAA;AAAA,YAPJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CA9Ec,CA4GlB;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEH;;GAxHQxB,U;UACSF,U,EAQGF,W,EACCC,W;;;KAVbG,U;AA0HT,eAAeA,UAAf","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport  { Redirect } from 'react-router-dom'\nimport { useDispatch,useSelector } from 'react-redux';\n\nimport {  useHistory } from 'react-router'; \nimport { userAction_details } from './Reducers/actions/userActions';\n\n\nimport './Login.css' ;\n\nfunction Login_brad() {\n    let history = useHistory()\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    const [boolpg, setboolpg] = useState(0); //success or fail\n   \n\n    const dispatch = useDispatch()\n    const userLogin = useSelector(state => state.userLogin)\n    const {loading,userInfo,error} =userLogin\n\n    const redirect=`/`\n    // console.log(\"USERINFO:-\",typeof(userInfo)=='undefined',userInfo,userLogin);\n    // if(!(typeof(userInfo)=='undefined') && userInfo!=='Invalid details')\n    // console.log(\"info len:-\",Object.keys(userInfo).length);\n    // else\n    // console.log(\"info lenyo:-\",userInfo);\n\n    useEffect(() => {\n        //when getting request, userinfo becomes true as  userLoginRequest is called.\n        //length==0 becomes when 1st time login pg is visited\n        //invalid details is received when details don't match\n\n        //if user is logged in  direct to home page..not working when aftr login  i type login_brad url, everything gets refreshed\n        if( !(typeof(userInfo)=='undefined') && userInfo.length!=0 && userInfo!=='Invalid details')\n        {\n            console.log(\"Login useeffect, redirect\");\n            history.push(redirect)\n        }\n    }, [history,userInfo,redirect])\n\n\n    const onEmail=(e)=> \n    { \n        setEmail(e.target.value)\n    }\n    const onPassword=(e)=> \n    { \n        setPassword(e.target.value)\n    }\n    \n    const submit_form=(e)=>\n    {\n        e.preventDefault()\n\n        dispatch(userAction_details(email,password))\n\n        // console.log(email,password);\n\n        // const login_data=\n        // {\n        //     \"email\":email,\n        //     \"password\":password\n        // }\n\n        // axios.post(`http://localhost:4000/login_brad/add`,login_data)\n        //  .then((res) => \n        //   {\n        //     // setresult(res.data)\n        //     console.log(\"Dtat is:\",res.data);\n\n        //     // if(res.data==\"Success\")\n        //     // {\n        //     //   setboolpg(1)\n        //     // //   console.log(\"Jeet gaya\",boolpg);\n\n        //     // }\n\n        //   })\n\n         setEmail('')\n         setPassword('')\n    }\n\n    // if(boolpg==0)\n    // {\n        return (\n            <div className=\"login\">\n                <Link to=\"/\">\n                    {/* <img className=\"logo\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\"/> */}\n                    <img className=\"logo\" src=\"https://www.logodesign.net/logo/peace-bird-in-water-drop-3572ld.png\"/>\n    \n                </Link>\n    \n                <div className=\"login_details\">\n                    {/* <form> */}\n                    <h1 className=\"heading\">Login</h1>\n                    \n                   {(userInfo==\"Invalid details\" || error) && <h2>Error</h2>}\n                {loading && <h2>Loading</h2>}\n\n                    <h2>brad-Email</h2>\n                    <input value={email} onChange={onEmail} placeholder=\"Enter Email\"/>\n                    \n                    <h2>Password</h2>\n                    <input type=\"password\" value={password} onChange={onPassword} placeholder=\"Enter Password\"/>\n    \n                    {/* <Link to=\"/\"> */}\n                         <button className=\"login_button\" onClick={submit_form}>Login</button>\n                    {/* </Link> */}\n                    {/* </form> */}\n                </div>\n    \n            </div>\n        )\n\n    // }\n\n    // else\n    // {\n\n    //     return (\n    //         <div>\n    //              <Redirect to=\"/\" /> \n    //         </ div>\n    //      )\n    // }\n    \n}\n\nexport default Login_brad\n"]},"metadata":{},"sourceType":"module"}