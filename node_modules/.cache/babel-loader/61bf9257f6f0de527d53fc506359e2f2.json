{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/shambhavi/Desktop/Amazone-Clone-Updated-codes-main/src/ProfileDetails.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport { userProfileAction_details } from './Reducers/actions/userActions';\nimport './ProfileDetails.css'; // import { set } from 'mongoose';\n\nfunction ProfileDetails() {\n  _s();\n\n  let history = useHistory();\n  const [Name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [confirmPassword, setconfirmPassword] = useState('');\n  const [myOrder, setmyOrder] = useState({});\n  const dispatch = useDispatch();\n  const userProfileDetails = useSelector(state => state.userProfileDetails);\n  const {\n    loading,\n    user,\n    error\n  } = userProfileDetails;\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin; // if(!(typeof(userInfoR)=='undefined') && userInfoR!=='Invalid details')\n  // console.log(\"info len:-\",Object.keys(userInfoR).length);\n  // else\n  // console.log(\"info lenyo:-\",userInfoR);\n\n  useEffect(() => {\n    //when getting request, userinfo becomes true as  userLoginRequest is called.\n    //length==0 becomes when 1st time login pg is visited\n    //invalid details is received when details don't match\n    //if user dosen't hv login, direct him there\n    if (!(!(typeof userInfo == 'undefined') && userInfo.length != 0 && userInfo !== 'Invalid details')) {\n      history.push(`/login_brad`);\n    } else {\n      //Q.use??...brad says:- if no user , dispatch userProfileAction..it means fetch user from database & then else part is entered where name,email is set\n      console.log(\"USER NAME b4 if\", user); //  if(!(typeof(user)=='undefined') && !user.name)\n\n      {\n        console.log(\"userProfile b4\");\n        dispatch(userProfileAction_details('profile'));\n        console.log(\"userProfile a4\");\n      } //Q.use??...brad says:- if we hv user, set email, name..not pass   \n      // else\n\n      {// setName(user.name)\n        // setEmail(user.email)\n      } // if(!(typeof(user)=='undefined'))\n      // {\n      //     setName(user.name)\n      //     setEmail(user.email)\n      //     console.log(\"USER NAME a4 if\",user)\n      // }\n    }\n  }, [dispatch, history, userInfo]);\n  useEffect(() => {\n    if (!(typeof user == 'undefined')) {\n      setName(user.name);\n      setEmail(user.email);\n      console.log(\"USER NAME a4 if\", user);\n    }\n\n    const config = {\n      headers: {\n        'Content-Type': \"application/json\",\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    axios.get(`http://localhost:4000/order/myorder`, config).then(res => {\n      console.log(\"(PROFILEDETAILS)\", res.data);\n      setmyOrder(res.data);\n    });\n  }, [user]);\n\n  const onName = e => {\n    setName(e.target.value);\n  };\n\n  const onEmail = e => {\n    setEmail(e.target.value);\n  };\n\n  const onPassword = e => {\n    setPassword(e.target.value);\n  };\n\n  const onconfirmPassword = e => {\n    setconfirmPassword(e.target.value);\n  };\n\n  const submit_form = () => {\n    if (password !== confirmPassword) {\n      console.log(\"Pass not matching\");\n    } else if (password == '' || confirmPassword == '') {\n      console.log(\"Pass not entered\");\n    } else {\n      // dispatch(userRegisterAction_details(Name,email,password))\n      const userData = {\n        \"Name\": Name,\n        //Lhs as mentioned in postman api tezting or in routes-->exercise_route.js . Name as mentioned as in router.post function\n        \"email\": email,\n        \"password\": password,\n        \"confirmPassword\": confirmPassword\n      };\n      const config = {\n        headers: {\n          'Content-Type': \"application/json\",\n          Authorization: `Bearer ${userInfo.token}`\n        }\n      };\n      axios.put(`http://localhost:4000/login_brad/profile`, userData, config).then(res => console.log(res.data));\n      console.log(\"data filled\");\n    } // const config={\n    //     headers:{\n    //         'Content-Type':\"application/json\",\n    //         Authorization:`Bearer ${userInfo.token}`\n    //     }\n    // }\n    // axios.get(`http://localhost:4000/order/myorder`,config)\n    //  .then(res => console.log(\"(PROFILEDETAILS)\",res.data))\n\n  };\n\n  console.log(\"b4 return\", user);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"register\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        className: \"logo\",\n        src: \"https://www.logodesign.net/logo/peace-bird-in-water-drop-3572ld.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"registration_details\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"heading\",\n        children: \"Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Your Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: Name,\n        onChange: onName,\n        placeholder: \"Enter Full Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        value: email,\n        onChange: onEmail,\n        placeholder: \"Enter Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        value: password,\n        onChange: onPassword,\n        placeholder: \"Enter Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Confirm Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        value: confirmPassword,\n        onChange: onconfirmPassword,\n        placeholder: \"Re-Enter Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"create_acc\",\n        onClick: submit_form,\n        children: \"Update\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: Object.keys(myOrder).length == 0 ? /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"No orders\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 50\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"My Orders\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"DATE\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"TOTAL\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"PAID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"DELIVERED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 41\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 37\n          }, this), myOrder.map(item =>\n          /*#__PURE__*/\n          // <div>\n          _jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: item._id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.createdAt\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.totalPrice\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.isPaid ? /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u2714\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 62\n              }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u274C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 74\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.isDelivered ? /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u2714\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 67\n              }, this) : /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u274C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 79\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 45\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                children: \"Details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 53\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 45\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 41\n          }, this) // </div>\n          )]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 167,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ProfileDetails, \"7I2fRgRjKCb1tPo/laYOco/bMcE=\", false, function () {\n  return [useHistory, useDispatch, useSelector, useSelector];\n});\n\n_c = ProfileDetails;\nexport default ProfileDetails;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProfileDetails\");","map":{"version":3,"sources":["/Users/shambhavi/Desktop/Amazone-Clone-Updated-codes-main/src/ProfileDetails.js"],"names":["React","useEffect","useState","Link","axios","useDispatch","useSelector","useHistory","userProfileAction_details","ProfileDetails","history","Name","setName","email","setEmail","password","setPassword","confirmPassword","setconfirmPassword","myOrder","setmyOrder","dispatch","userProfileDetails","state","loading","user","error","userLogin","userInfo","length","push","console","log","name","config","headers","Authorization","token","get","then","res","data","onName","e","target","value","onEmail","onPassword","onconfirmPassword","submit_form","userData","put","Object","keys","map","item","_id","createdAt","totalPrice","isPaid","isDelivered"],"mappings":"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","sourcesContent":["import React,{useEffect,useState} from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport { useDispatch,useSelector } from 'react-redux';\n\nimport {  useHistory } from 'react-router'; \nimport { userProfileAction_details } from './Reducers/actions/userActions';\n\nimport './ProfileDetails.css' ;\n// import { set } from 'mongoose';\n\nfunction ProfileDetails() {\n    let history = useHistory()\n\n    const [Name, setName] = useState('')\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [confirmPassword, setconfirmPassword] = useState('');\n\n    const [myOrder, setmyOrder] = useState({})\n\n    const dispatch = useDispatch()\n\n    const userProfileDetails = useSelector(state => state.userProfileDetails)\n    const {loading,user,error} =userProfileDetails\n\n    const userLogin = useSelector(state => state.userLogin)\n    const {userInfo} =userLogin\n\n    // if(!(typeof(userInfoR)=='undefined') && userInfoR!=='Invalid details')\n    // console.log(\"info len:-\",Object.keys(userInfoR).length);\n    // else\n    // console.log(\"info lenyo:-\",userInfoR);\n\n    \n    useEffect(() => {\n        //when getting request, userinfo becomes true as  userLoginRequest is called.\n        //length==0 becomes when 1st time login pg is visited\n        //invalid details is received when details don't match\n\n        //if user dosen't hv login, direct him there\n        if(!( !(typeof(userInfo)=='undefined') && userInfo.length!=0 && userInfo!=='Invalid details'))\n        {\n            history.push(`/login_brad`)\n        }\n\n        else\n        {\n            //Q.use??...brad says:- if no user , dispatch userProfileAction..it means fetch user from database & then else part is entered where name,email is set\n            console.log(\"USER NAME b4 if\",user);\n        //  if(!(typeof(user)=='undefined') && !user.name)\n                {\n                    console.log(\"userProfile b4\");\n                    dispatch(userProfileAction_details('profile'))\n                    console.log(\"userProfile a4\");\n                }\n             //Q.use??...brad says:- if we hv user, set email, name..not pass   \n            // else\n            {\n                \n                // setName(user.name)\n                // setEmail(user.email)\n            }\n            // if(!(typeof(user)=='undefined'))\n            // {\n            //     setName(user.name)\n            //     setEmail(user.email)\n            //     console.log(\"USER NAME a4 if\",user)\n            // }\n            \n            \n        }\n\n    }, [dispatch,history,userInfo])\n\n    useEffect(() => {\n\n        if(!(typeof(user)=='undefined'))\n        {\n            setName(user.name)\n            setEmail(user.email)\n            console.log(\"USER NAME a4 if\",user)\n        }\n\n        const config={\n            headers:{\n                'Content-Type':\"application/json\",\n                Authorization:`Bearer ${userInfo.token}`\n            }\n        }\n        axios.get(`http://localhost:4000/order/myorder`,config)\n         .then(res => \n            {\n                console.log(\"(PROFILEDETAILS)\",res.data)\n                setmyOrder(res.data)\n            })\n       \n    }, [user])\n\n    const onName=(e)=> \n    { \n        setName(e.target.value)\n    }\n    const onEmail=(e)=> \n    { \n        setEmail(e.target.value)\n    }\n    const onPassword=(e)=> \n    { \n        setPassword(e.target.value)\n    }\n    const onconfirmPassword=(e)=> \n    { \n        setconfirmPassword(e.target.value)\n    }\n    \n    const submit_form=()=>\n    {\n        if(password!==confirmPassword)\n        {\n            console.log(\"Pass not matching\");\n        }\n        else if(password=='' || confirmPassword=='')\n        {\n            console.log(\"Pass not entered\");\n        }\n        else\n        {\n            // dispatch(userRegisterAction_details(Name,email,password))\n               const userData={\n                   \"Name\":Name, //Lhs as mentioned in postman api tezting or in routes-->exercise_route.js . Name as mentioned as in router.post function\n                    \"email\":email,\n                    \"password\":password,\n                    \"confirmPassword\":confirmPassword\n                }\n\n                const config={\n                    headers:{\n                        'Content-Type':\"application/json\",\n                        Authorization:`Bearer ${userInfo.token}`\n                    }\n                }\n\n            axios.put(`http://localhost:4000/login_brad/profile`,userData,config)\n             .then(res => console.log(res.data))\n\n             console.log(\"data filled\");\n\n        }\n       \n       \n        // const config={\n        //     headers:{\n        //         'Content-Type':\"application/json\",\n        //         Authorization:`Bearer ${userInfo.token}`\n        //     }\n        // }\n        // axios.get(`http://localhost:4000/order/myorder`,config)\n        //  .then(res => console.log(\"(PROFILEDETAILS)\",res.data))\n\n        \n    }\n\n   \n    console.log(\"b4 return\",user);\n    return (\n        <div className=\"register\">\n            <Link to=\"/\">\n                {/* <img className=\"logo\" src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/a/a9/Amazon_logo.svg/1024px-Amazon_logo.svg.png\"/> */}\n                <img className=\"logo\" src=\"https://www.logodesign.net/logo/peace-bird-in-water-drop-3572ld.png\"/>\n\n            </Link>\n\n            <div className=\"registration_details\">\n                {/* <form> */}\n                <h1 className=\"heading\">Profile</h1>\n                \n                {/* {error}\n                {loading && <h2>Loading</h2>} */}\n\n                <h2>Your Name</h2>\n                <input value={Name} onChange={onName} placeholder=\"Enter Full Name\"/>\n                \n                <h2>Email</h2>\n                <input value={email} onChange={onEmail} placeholder=\"Enter Email\"/>\n                \n                <h2>Password</h2>\n                <input type=\"password\" value={password} onChange={onPassword} placeholder=\"Enter Password\"/>\n\n                <h2>Confirm Password</h2>\n                <input type=\"password\" value={confirmPassword} onChange={onconfirmPassword} placeholder=\"Re-Enter Password\"/>\n                \n\n                <button className=\"create_acc\" onClick={submit_form} >Update</button>\n                \n                {/* </form> */}\n            </div>\n\n            <div>\n\n                {/* <h2>My Orders</h2> */}\n                { Object.keys(myOrder).length==0?<h2>No orders</h2>:\n                  <>\n                  <h2>My Orders</h2>\n                    <table>\n\n\n                            {/* <thread> */}\n                                    <tr>\n                                        <th>ID</th>\n                                        <th>DATE</th>\n                                        <th>TOTAL</th>\n                                        <th>PAID</th>\n                                        <th>DELIVERED</th>\n                                    </tr>\n                            {/* </thread> */}\n                \n                \n                          {/* <tbody> */}\n                        \n                            {myOrder.map((item) => (\n                                // <div>\n                                \n                                \n                                        <tr>\n                                            <td>{item._id}</td>\n                                        \n                                            <td>{item.createdAt}</td>\n                                        \n                                            <td>{item.totalPrice}</td>\n                                        \n                                            <td>{item.isPaid?<h3>✔️</h3>:<h3>❌</h3>}</td>\n\n                                            <td>{item.isDelivered?<h3>✔️</h3>:<h3>❌</h3>}</td>\n\n                                            <td>\n                                                {/* <Link to={`/order/${item._id}`}> */}\n                                                    <button>Details</button>\n                                                {/* </Link> */}\n                                            </td>\n                                        </tr>\n                                        \n                                // </div>\n                            ))}\n                        \n                        {/* </tbody> */}\n                    </table>\n                 </>\n               \n                }\n               \n                \n            </div>\n\n        </div>\n    )\n}\n\nexport default ProfileDetails\n"]},"metadata":{},"sourceType":"module"}